const baseDomain="https://sainternet.xyz",shortName="sainternet",cacheVersionPrefix="_v",cacheVersion="48",cacheName=`${shortName}_v48`,cssCritical=[`${baseDomain}/resources/fontawesome-free-6.3.0-web/css/brands-stripped.min.css`,`${baseDomain}/resources/fontawesome-free-6.3.0-web/css/fontawesome-stripped.min.css`,`${baseDomain}/resources/fontawesome-free-6.3.0-web/css/solid.min.css`,`${baseDomain}/resources/stylesheets/ribbons.min.css`,`${baseDomain}/resources/stylesheets/sainternet.min.css`,],htmlCritical=[`${baseDomain}/`,`${baseDomain}/filtereddns.html`,`${baseDomain}/newsandupdates.html`,`${baseDomain}/pokedexoverdns.html`,`${baseDomain}/projects.html`,],jsCritical=[`${baseDomain}/resources/javascript/debug.min.js`,`${baseDomain}/resources/javascript/load_fonts.min.js`,`${baseDomain}/resources/javascript/material.min.js`,`${baseDomain}/resources/javascript/tag_manager.min.js`,`${baseDomain}/resources/javascript/toggle_drawer.min.js`,`${baseDomain}/sainternet.min.js`,],cacheCritical=[...cssCritical,...htmlCritical,...jsCritical,],cssAdditional=[`${baseDomain}/resources/stylesheets/button_home.min.css`,`${baseDomain}/resources/stylesheets/datetime.min.css`,`${baseDomain}/resources/stylesheets/img.min.css`,`${baseDomain}/resources/stylesheets/material.amber-red.min.css`,`${baseDomain}/resources/stylesheets/material.blue_grey-red.min.css`,`${baseDomain}/resources/stylesheets/material.blue-red.min.css`,`${baseDomain}/resources/stylesheets/material.brown-red.min.css`,`${baseDomain}/resources/stylesheets/material.cyan-red.min.css`,`${baseDomain}/resources/stylesheets/material.deep_orange-red.min.css`,`${baseDomain}/resources/stylesheets/material.deep_purple-red.min.css`,`${baseDomain}/resources/stylesheets/material.green-red.min.css`,`${baseDomain}/resources/stylesheets/material.grey-red.min.css`,`${baseDomain}/resources/stylesheets/material.indigo-red.min.css`,`${baseDomain}/resources/stylesheets/material.light_blue-red.min.css`,`${baseDomain}/resources/stylesheets/material.light_green-red.min.css`,`${baseDomain}/resources/stylesheets/material.lime-red.min.css`,`${baseDomain}/resources/stylesheets/material.orange-red.min.css`,`${baseDomain}/resources/stylesheets/material.pink-red.min.css`,`${baseDomain}/resources/stylesheets/material.purple-red.min.css`,`${baseDomain}/resources/stylesheets/material.red-blue.min.css`,`${baseDomain}/resources/stylesheets/material.teal-red.min.css`,`${baseDomain}/resources/stylesheets/material.yellow-red.min.css`,`${baseDomain}/resources/stylesheets/pre.min.css`,`${baseDomain}/resources/stylesheets/table.min.css`,],fontAdditional=[`${baseDomain}/resources/fontawesome-free-6.3.0-web/webfonts/fa-brands-400.ttf`,`${baseDomain}/resources/fontawesome-free-6.3.0-web/webfonts/fa-brands-400.woff2`,`${baseDomain}/resources/fontawesome-free-6.3.0-web/webfonts/fa-solid-900.ttf`,`${baseDomain}/resources/fontawesome-free-6.3.0-web/webfonts/fa-solid-900.woff2`,],htmlAdditional=[`${baseDomain}/265.html`,`${baseDomain}/404.html`,`${baseDomain}/connecttosainternet.html`,`${baseDomain}/debug.html`,`${baseDomain}/frequentlyaskedquestions.html`,`${baseDomain}/index.html`,`${baseDomain}/portsandprotocols.html`,`${baseDomain}/reportaproblem.html`,`${baseDomain}/technologies.html`,`${baseDomain}/testsainternet.html`,],iconAdditional=[`${baseDomain}/favicon.ico`,`${baseDomain}/resources/icons/android-chrome-192x192.png`,`${baseDomain}/resources/icons/android-chrome-256x256.png`,`${baseDomain}/resources/icons/android-chrome-512x512.png`,`${baseDomain}/resources/icons/apple-touch-icon-180x180.png`,`${baseDomain}/resources/icons/favicon-16x16.png`,`${baseDomain}/resources/icons/favicon-32x32.png`,`${baseDomain}/resources/icons/favicon-48x48.png`,`${baseDomain}/resources/icons/filtereddns-192x192.png`,`${baseDomain}/resources/icons/mstile-144x144.png`,`${baseDomain}/resources/icons/mstile-150x150.png`,`${baseDomain}/resources/icons/newsandupdates-192x192.png`,`${baseDomain}/resources/icons/pokedexoverdns-192x192.png`,`${baseDomain}/resources/icons/projects-192x192.png`,`${baseDomain}/resources/icons/pwa-maskable-128x128.png`,`${baseDomain}/resources/icons/pwa-maskable-192x192.png`,`${baseDomain}/resources/icons/pwa-maskable-384x384.png`,`${baseDomain}/resources/icons/pwa-maskable-48x48.png`,`${baseDomain}/resources/icons/pwa-maskable-512x512.png`,`${baseDomain}/resources/icons/pwa-maskable-72x72.png`,`${baseDomain}/resources/icons/pwa-maskable-96x96.png`,`${baseDomain}/resources/icons/safari-pinned-tab.svg`,],imageAdditional=[`${baseDomain}/resources/images/luxio.jpg`,`${baseDomain}/resources/images/luxio.png`,`${baseDomain}/resources/images/luxio-shiny.jpg`,`${baseDomain}/resources/images/luxio-shiny.png`,`${baseDomain}/resources/images/luxio-shiny.webp`,`${baseDomain}/resources/images/luxio.webp`,`${baseDomain}/resources/images/terminal.jpg`,`${baseDomain}/resources/images/terminal.png`,`${baseDomain}/resources/images/terminal.webp`,`${baseDomain}/resources/images/wurmple.jpg`,`${baseDomain}/resources/images/wurmple.png`,`${baseDomain}/resources/images/wurmple-shiny.jpg`,`${baseDomain}/resources/images/wurmple-shiny.png`,`${baseDomain}/resources/images/wurmple-shiny.webp`,`${baseDomain}/resources/images/wurmple.webp`,],jsAdditional=[`${baseDomain}/resources/javascript/random_phrase.min.js`,`${baseDomain}/serviceworker.min.js`,],manifestAdditional=[`${baseDomain}/sainternet.webmanifest`,],xmlAdditional=[`${baseDomain}/resources/icons/browserconfig.xml`,],cacheAdditional=[...cssAdditional,...fontAdditional,...htmlAdditional,...iconAdditional,...imageAdditional,...jsAdditional,...manifestAdditional,...xmlAdditional,];function consoleWrapper(e,s="log",r=!1){self.DEBUG&&r&&(e=`${new Date().toLocaleString()} - ${e}`),self.DEBUG&&"object"==typeof console&&"function"==typeof console[s]&&console[s](e)}function consoleWrapperSimple(e,s="log"){"object"==typeof console&&"function"==typeof console[s]&&console[s](e)}function cacheUrls(e){return caches.open(cacheName).then(function(s){return Promise.all(e.map(function(e){return fetch(e).then(function(r){return r.ok||consoleWrapper(`[Service Worker] Failed to cache ${e}: ${r.status}`,"error"),s.put(e,r)}).then(function(){consoleWrapper(`[Service Worker] Cached ${e}`)})}))})}self.addEventListener("install",function(e){consoleWrapper(`[Service Worker] Event: install ${shortName}`),e.waitUntil(cacheUrls(cacheCritical).then(function(){return consoleWrapper("[Service Worker] Finished caching critical assets"),self.skipWaiting()}).catch(function(e){consoleWrapper(`[Service Worker] Error during caching: ${e}`,"error")}))}),self.addEventListener("activate",function(e){consoleWrapper(`[Service Worker] Event: activate ${shortName}`);try{self.clients&&clients.claim&&(consoleWrapper("[Service Worker] Claiming available clients"),clients.claim()),e.waitUntil(caches.keys().then(function(e){let s=e.filter(function(e){return e.indexOf(shortName)});return consoleWrapper(`[Service Worker] Whitelisting current cache: ${cacheName}`),s.push(cacheName),Promise.all(e.map(function(r,a){if(-1===s.indexOf(r))return consoleWrapper(`[Service Worker] Deleting orphaned cache: ${e[a]}`),caches.delete(e[a])}))}))}catch(s){consoleWrapper(`[Service Worker] Error during activate event: ${s}`,"error")}}),self.addEventListener("fetch",function(e){try{if("GET"!==e.request.method){consoleWrapper(`[Service Worker] Method not eligible for fetch: ${e.request.method}`);return}let s=new URL(e.request.url);if(!s.origin.startsWith(baseDomain))return fetch(e.request);e.respondWith(caches.match(e.request).then(function(s){return s?(consoleWrapper(`[Service Worker] Returning response from cache: ${e.request.url}`),s):(consoleWrapper(`[Service Worker] Fetching from network: ${e.request.url}`),fetch(e.request).then(function(s){if(!s||200!==s.status||"basic"!==s.type)return consoleWrapper(`[Service Worker] Response not eligible for caching: ${e.request.url}`),s;let r=s.clone();return caches.open(cacheName).then(function(s){consoleWrapper(`[Service Worker] Adding response to cache: ${e.request.url}`),s.put(e.request,r)}),consoleWrapper(`[Service Worker] Returning response from network: ${e.request.url}`),s}))}))}catch(r){consoleWrapper(`[Service Worker] Error during fetch event: ${r}`,"error")}}),self.addEventListener("message",function(e){if("cacheAssets"===e.data.type){let s=e.data.urls;cacheUrls(s).then(function(){consoleWrapper(`[Service Worker] Finished caching assets: ${s}`)}).catch(function(e){consoleWrapper(`[Service Worker] Error during caching: ${e}`,"error")})}else if("debug"===e.data.type){let r=e.data.value;self.DEBUG=r,consoleWrapperSimple(`[Service Worker] DEBUG: ${r}`)}else"info"===e.data?(consoleWrapperSimple(`[Service Worker] Name: ${shortName}`),consoleWrapperSimple("[Service Worker] Cache version: 48"),consoleWrapperSimple(`[Service Worker] Cache name: ${cacheName}`),consoleWrapperSimple(`[Service Worker] Scope: ${baseDomain}`),consoleWrapperSimple(`[Service Worker] Service worker: ${baseDomain}/serviceworker.min.js`)):"ping"===e.data&&consoleWrapperSimple("[Service Worker] Pong")});
